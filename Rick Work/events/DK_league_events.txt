namespace = DK_league

####################
# LEAGUE FORMATION #
####################

# FROMFROM proposes to form a league with FROMFROM as the leader.
character_event = {
    id = DK_league.1
    desc = DK_EVTDESC_LEAGUE_1
    picture = GFX_evt_battle # TODO: Use good picture

    is_triggered_only = yes # Called from form_league decision.

    option = {
        name = DK_EVTOPTA_LEAGUE_1
        # TODO: AI choices.

        custom_tooltip = {
            text = DK_FORM_LEAGUE_AS_MEMBER
            hidden_tooltip = {
                FROMFROM = {
                    make_tributary = {
                        who = ROOT
                        tributary_type = league
                    }
                    character_event = { id = DK_league.2 days = 1 }
                }
            }
        }
    }
    option = {
        name = DK_EVTOPTB_LEAGUE_1
        # TODO: AI choices.

        FROMFROM = {
            character_event = {
                id = DK_league.3
            }
        }
    }
}

# ROOT accepts proposal
character_event = {
    id = DK_league.2
    desc = DK_EVTDESC_LEAGUE_2
    picture = GFX_evt_battle # TODO: Use good picture

    is_triggered_only = yes # Called from DK_league.1 event.

    option = {
        name = DK_EVTOPTA_LEAGUE_2
    }
}

# ROOT rejects proposal
character_event = {
    id = DK_league.3
    desc = DK_EVTDESC_LEAGUE_3
    picture = GFX_evt_battle # TODO: Use good picture

    is_triggered_only = yes # Called from DK_league.1 event.

    option = {
        name = DK_EVTOPTA_LEAGUE_3
    }
}

# FROMFROM proposes to form a league with ROOT as the leader.
character_event = {
    id = DK_league.4
    desc = DK_EVTDESC_LEAGUE_4
    picture = GFX_evt_battle # TODO: Use good picture

    is_triggered_only = yes # Called from form_league decision.

    option = {
        name = DK_EVTOPTA_LEAGUE_4
        # TODO: AI choices.

        custom_tooltip = {
            text = DK_FORM_LEAGUE_AS_LEADER
            hidden_tooltip = {
                make_tributary = {
                    who = FROMFROM
                    tributary_type = league
                }
                FROMFROM = { 
                    character_event = { id = DK_league.5 }
                }
            }
        }
    }
    option = {
        name = DK_EVTOPTB_LEAGUE_4
        # TODO: AI choices.

        FROMFROM = {
            character_event = { id = DK_league.6 }
        }
    }
}

# ROOT accepts proposal
character_event = {
    id = DK_league.5
    desc = DK_EVTDESC_LEAGUE_5
    picture = GFX_evt_battle # TODO: Use good picture

    is_triggered_only = yes # Called from DK_league.4 event.

    option = {
        name = DK_EVTOPTA_LEAGUE_5
    }
}

# ROOT rejects proposal
character_event = {
    id = DK_league.6
    desc = DK_EVTDESC_LEAGUE_6
    picture = GFX_evt_battle # TODO: Use good picture

    is_triggered_only = yes # Called from DK_league.4 event.

    option = {
        name = DK_EVTOPTA_LEAGUE_6
    }
}

#####################
# LEAGUE INVITATION #
#####################